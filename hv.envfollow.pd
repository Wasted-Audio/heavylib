#N canvas 107 196 493 467 10;
#X obj 28 340 -~;
#X obj 28 316 sig~ 1;
#X obj 13 388 rpole~;
#X obj 114 32 loadbang;
#X obj 114 56 samplerate~;
#X obj 77 112 *;
#X obj 77 178 /;
#X obj 13 363 *~;
#X obj 13 419 outlet~;
#X obj 191 111 *;
#X text 190 361 temp = abs(in);
#X text 190 421 else;
#X text 190 381 if (tmp > env);
#X obj 106 293 r~ \$0-env;
#X obj 67 419 s~ \$0-env;
#X obj 191 202 exp;
#X msg 191 224 \$1 10;
#X obj 191 246 line~;
#X obj 191 177 /;
#X obj 77 200 exp;
#X msg 77 222 \$1 10;
#X obj 77 244 line~;
#X text 200 401 env = temp + attack_coeff * (env - temp);
#X text 190 338 release_coeff = exp(-1 / (Fs * release_time));
#X text 190 318 attack_coeff = exp(-1 / (Fs * release_time));
#X text 200 441 env = temp + release_coeff * (env - temp);
#X obj 114 79 / 1000;
#X text 190 298 http://www.musicdsp.org/archive.php?classid=2#97;
#X obj 13 257 inlet~;
#X obj 77 9 inlet attack (ms);
#X obj 191 9 inlet release (ms);
#N canvas 619 48 333 152 multiplexer 0;
#X obj 120 11 inlet~;
#X obj 15 11 inlet~;
#X obj 261 13 inlet~;
#X obj 177 10 inlet~;
#X obj 15 123 outlet~;
#N canvas 467 216 159 96 @hv_obj 0;
#X obj 60 18 inlet~;
#X obj 15 18 inlet~;
#X obj 15 65 outlet~;
#X obj 15 42 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 15 76 pd @hv_obj __and~f;
#N canvas 467 216 188 166 @hv_obj 0;
#X obj 79 11 inlet~;
#X obj 31 11 inlet~;
#X obj 16 112 outlet~;
#X obj 16 37 sig~ 1;
#X obj 16 61 -~;
#X obj 16 89 *~;
#X connect 0 0 5 1;
#X connect 1 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X restore 138 76 pd @hv_obj __andnot~f;
#N canvas 538 372 182 89 @hv_obj 0;
#X obj 66 18 inlet~;
#X obj 15 18 inlet~;
#X obj 15 65 outlet~;
#X obj 15 42 +~, f 9;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 15 99 pd @hv_obj __or~f;
#N canvas 0 22 144 197 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 15 42 pd @hv_obj __gte~f;
#X connect 0 0 8 1;
#X connect 1 0 8 0;
#X connect 2 0 6 1;
#X connect 3 0 5 1;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X connect 8 0 6 0;
#X restore 79 317 pd multiplexer;
#X obj 13 280 abs~;
#X msg 77 156 -4.60517 \$1;
#X msg 191 155 -4.60517 \$1;
#X obj 191 134 max 1;
#X obj 77 134 max 1;
#X connect 0 0 7 1;
#X connect 1 0 0 0;
#X connect 2 0 8 0;
#X connect 2 0 14 0;
#X connect 3 0 4 0;
#X connect 4 0 26 0;
#X connect 5 0 36 0;
#X connect 6 0 19 0;
#X connect 7 0 2 0;
#X connect 9 0 35 0;
#X connect 13 0 31 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 31 3;
#X connect 18 0 15 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 31 2;
#X connect 26 0 5 1;
#X connect 26 0 9 1;
#X connect 28 0 32 0;
#X connect 29 0 5 0;
#X connect 30 0 9 0;
#X connect 31 0 0 1;
#X connect 31 0 2 1;
#X connect 32 0 31 0;
#X connect 32 0 7 0;
#X connect 33 0 6 0;
#X connect 34 0 18 0;
#X connect 35 0 34 0;
#X connect 36 0 33 0;
